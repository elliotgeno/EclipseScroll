var __eScroll=function(e){function i(e){l=window.pageYOffset,EclipseScroll.pageProgress=l/(document.documentElement.offsetHeight-window.innerHeight),EclipseScroll.isForward=l-r>0,r=l;for(var i=0;i<EclipseScroll.elements.length;i++)t(EclipseScroll.elements[i])}function t(e){var l=e.__scrollData,r=window.innerHeight,i=e.getBoundingClientRect().top,t=e.offsetHeight,n=r+t;l.outerProgress=(r-i)/n,l.innerProgress=1-i/(r-t);var o=Math.max(0,i),s=Math.min(r,i+t);l.overlap=Math.max(0,s-o),l.visble=l.overlap>0,l.visibility=l.overlap/Math.min(r,t),l.callback&&l.callback(l)}function n(e,l){EclipseScroll.elements.push(e),e.__scrollData={element:e,callback:l,visible:!0,visibility:0,outerProgress:0,innerProgress:0,overlap:0},window.addEventListener("scroll",i),window.addEventListener("resize",i)}function o(e){var l=EclipseScroll.elements.indexOf(e);l>-1&&EclipseScroll.elements.splice(l,1),0==EclipseScroll.elements.length&&(window.removeEventListener("scroll",i),window.removeEventListener("resize",i))}this.elements=[];var l=0,r=-1;this.isForward=!0,this.pageProgress=0,__eScroll.prototype.add=function(e,l){if(e.length)for(var r=0;r<e.length;r++){var i=e[r];n(i,l)}else n(e,l)},__eScroll.prototype.remove=function(e){if(e.length)for(var l=0;l<e.length;l++){var r=e[l];o(r)}else o(e)}},EclipseScroll=new __eScroll;